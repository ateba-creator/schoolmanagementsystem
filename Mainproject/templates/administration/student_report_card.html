{% extends 'base/base.html' %}
{% load static %}
{% block title %} School Management System {% endblock %}
{% block content %}
<form action="{% url 'download student report card' %}" method="get" xmlns="http://www.w3.org/1999/html">
<div style="text-align:right;margin-right:130px;margin-top:-65px;padding-bottom:20px;">
    <img src="{% static 'Mainapp/images/pdf.png' %}" class="download-image"><button type="submit" class="btn btn-gradient-danger"> Telecharger</button>
</div>
    <div class="col-lg-12 grid-margin stretch-card" id="department-list">

              <div class="card">

                  <div class="login100">
                <div class="card-body shadow login100-more1" style="background-image: url('{% static 'Mainapp/images/water.png' %}')">
                    <div class="box">
                    <img src="{% static 'Mainapp/images/ministry.jpg' %}" style="border-radius:100%;height:500px;width:750px;">
                    </div>
                    <div class="overlay">
                        <div style="text-align:center;">
                        <img src="{% static 'Mainapp/images/ministry.jpg' %}" alt="minsec logo" class="ministry_logo">
                    </div>
                    <div class="row" style="margin-top:-130px;padding-bottom:50px;">
                        <div class="col-md-6">
                            <div class="row" style="padding:10px;"><strong>REPUBLIQUE DU CAMEROUN</strong></div>
                            <div class="row" style="padding:10px;">PAIX - TRAVAIL - PATRIE</div>
                        </div>
                        <div class="col-md-6" style="margin-top:0px;text-align:right;">
                            <div class="row" style="padding:10px;margin-left:220px;"><strong>REPUBLIC OF CAMEROON</strong></div>
                            <div class="row" style="margin-left:180px;padding:10px;">PEACE - WORK - FATHERLAND</div>
                        </div>
                    </div>
                    <hr class="line">
                    {% if report_card.sequence != '2 eme Sequence' and report_card.sequence != '4 eme Sequence' and report_card.sequence != '6 eme Sequence' %}
                            <h4 style="text-align:center;">***** BULLETIN DE NOTES DE LA <strong>{{report_card.sequence}} - {{report_card.academic_year}} </strong>*****</h4>
                            <hr class="line">
                            {% if report_card.sequence == '1 ere Sequence' %}
                            <h4 style="text-align:center;"><i>***** 1 st Sequence report card - {{report_card.academic_year}} *****</i></h4>
                            {% endif %}
                            {% if report_card.sequence == '2 eme Sequence' %}
                            <h4 style="text-align:center;"><i>***** 2 nd Sequence report card - {{report_card.academic_year}} *****</i></h4>
                            {% endif %}
                            {% if report_card.sequence == '3 eme Sequence' %}
                            <h4 style="text-align:center;"><i>***** 3 rd Sequence report card - {{report_card.academic_year}} *****</i></h4>
                            {% endif %}
                            {% if report_card.sequence == '4 eme Sequence' %}
                            <h4 style="text-align:center;"><i>***** 4 th Sequence report card - {{report_card.academic_year}} *****</i></h4>
                            {% endif %}
                            {% if report_card.sequence == '5 eme Sequence' %}
                            <h4 style="text-align:center;"><i>*****  5 th Sequence report card - {{report_card.academic_year}} *****</i></h4>
                            {% endif %}
                            {% if report_card.sequence == '6 eme Sequence' %}
                            <h4 style="text-align:center;"><i>***** 6 th Sequence report card - {{report_card.academic_year}} *****</i></h4>
                            {% endif %}

                    {% else %}
                           {% if report_card.sequence == '2 eme Sequence' %}
                                <h4 style="text-align:center;">***** BULLETIN DE NOTES DU <strong> TRIMESTRE 1 - {{report_card.academic_year}} </strong>*****</h4>
                            {% endif %}
                            {% if report_card.sequence == '4 eme Sequence' %}
                            <h4 style="text-align:center;">***** BULLETIN DE NOTES DU <strong> TRIMESTRE 2 - {{report_card.academic_year}} </strong>*****</h4>
                            {% endif %}

                            {% if report_card.sequence == '6 eme Sequence' %}
                            <h4 style="text-align:center;">***** BULLETIN DE NOTES DU <strong> TRIMESTRE 3 - {{report_card.academic_year}} </strong>*****</h4>
                            {% endif %}
                    {% endif %}
                        <hr class="line">
                    <div>
                        <table class="table" id="new_table2">
                            <thead>
                            <tr style="background-color:#f2f2f2">
                                <th style="border:1px solid grey;"><strong><i>NOMS ET PRENOMS : </i></strong></th>
                                 <th style="border:1px solid grey;text-align:center;" colspan="2"><strong>{{student.first_name}} {{student.last_name}}</strong></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr style="background-color:#f2f2f2">
                                <th style="border:1px solid grey;"><strong>DATE DE NAISSANCE : {{student.date_of_birth}}</strong></th>
                                <th style="border:1px solid grey;"><strong>LIEU DE NAISSANCE : {{student.place_of_birth}}</strong></th>
                                <th style="border:1px solid grey;"><strong>ANNEE SCHOLAIRE : {{report_card.academic_year}}</strong></th>
                            </tr>
                            <tr style="background-color:#f2f2f2">
                                <th style="border:1px solid grey;"><strong>CLASSE :{{classroom.name}}</strong></th>
                                <th style="border:1px solid grey;"><strong><i>MATRICULE : {{student.matricule}}</strong></th>
                                <th style="border:1px solid grey;"><strong>STATUS : </strong>{{student.status}}</th>
                            </tr>
                            <tr style="background-color:#f2f2f2">
                                <th style="border:1px solid grey;"><strong>EFFECTIF CLASSE:{{classroom.students.all.count}}</strong></th>
                                <th style="border:1px solid grey;"><strong>SEXE : {{student.gender}}</strong></th>
                            {% if classroom.main_teacher.gender == 'masculin' %}
                                <th style="border:1px solid grey;"><strong>PROF PRINCIPAL :Mr. {{classroom.main_teacher.first_name}}</strong></th>
                             {% else %}
                                  <th style="border:1px solid grey;"><strong>PROF PRINCIPAL :Mme. {{classroom.main_teacher.first_name}}</strong></th>
                                {% endif %}
                            </tr>
                            </tbody>
                        </table>
                    <div class="row">
                        <input type="text" name="student_id" value="{{student.id}}" class="hidden">
                         <input type="text" name="academic_year" value="{{academic_year}}" class="hidden">
                         <input type="text" name="sequence" value="{{sequence}}" class="hidden">
                    </div>
                    </div>

                    <hr class="line">

                    <!-- sequence report card -->
{% if report_card.sequence != '2 eme Sequence' and report_card.sequence != '4 eme Sequence' and report_card.sequence != '6 eme Sequence' %}
                  <table class="table table-striped" id="new_table1">
                    <thead style="border:1px solid grey;">
                      <tr>
                          <th style="border:1px solid grey;text-align:center;background-color:#f2f2f2" colspan="1">
                              <strong>MATIERES</strong>
                          </th>
                          <th style="padding:0px;border:1px solid grey;text-align:center;background-color:#f2f2f2" colspan="1">
                              <strong>NOTE <span class="text-danger">/</span> 20</strong>
                          </th>
                         <th style="padding:0px;border:1px solid grey;text-align:center;background-color:#f2f2f2" colspan="1">
                              <strong>COEF.</strong>
                          </th>
                          <th style="padding:0px;border:1px solid grey;text-align:center;background-color:#f2f2f2" colspan="1">
                              <strong>N x C</strong>
                          </th>
                          <th style="padding:0px;border:1px solid grey;text-align:center;background-color:#f2f2f2" colspan="1">
                              <strong>RANG</strong></th>
                          <th style="padding:0px;border:1px solid grey;text-align:center;background-color:#f2f2f2" colspan="1">
                              <strong>MENTION</strong>
                          </th>

                          <th style="padding:0px;border:1px solid grey;text-align:center;background-color:#f2f2f2" colspan="3">
                              <strong>CLASSE</strong>
                          </th>
                          <th style="padding:0px;border:1px solid grey;text-align:center;background-color:#f2f2f2" colspan="1">
                              <strong>VISA</strong>
                          </th>
                      </tr>
                    <tr>
                        <th style="border:1px solid grey;text-align:center;"><i>Subjects</i></th>
                         <th style="border:1px solid grey;text-align:center;"><i>Mark</i></th>
                         <th style="border:1px solid grey;text-align:center;"><i>Coef.</i></th>
                         <th style="border:1px solid grey;text-align:center;"><i>M x C</i></th>
                         <th style="border:1px solid grey;text-align:center;"><i>Rank</i></th>
                        <th style="border:1px solid grey;text-align:center;"><i>Remarks</i></th>
                         <th style="border:1px solid grey;text-align:center;">MIN</th>
                         <th style="border:1px solid grey;text-align:center;">MOY</th>
                         <th style="border:1px solid grey;text-align:center;">MAX</th>
                         <th style="border:1px solid grey;text-align:center;"><i>Signature</i></th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for result in report_card.results.all %}
                    <tr style="border:1px solid grey;text-align:center;">
                        {% for depart in result.course.department.all %}
                        <td style="border:1px solid grey;text-align:center;padding:0px;line-height:15%">
                        <ul class="display-none">
                            <li><h6><strong style="font-size:12px;">{{result.course.name}} - <div class="text-primary">{{depart.group_type}}</div> </strong></h6></li>
                        </ul>
                        </td>
                        {% endfor %}

                        {% if result.mark < 10 %}
                         <td style="border:1px solid grey;text-align:center;"><h6 style="color:red;"><strong style="font-size:12px;">{{result.mark}}</strong></h6></td>
                        {% else %}
                        <td style="border:1px solid grey;text-align:center;"><h6 style="color:green;"><strong style="font-size:12px;">{{result.mark}}</strong></h6></td>
                        {% endif %}
                    <td style="border:1px solid grey;text-align:center;"><h6><strong style="font-size:12px;">{{result.course.coeff}}</strong></h6></td>

                        <td style="border:1px solid grey;text-align:center;"><h6><strong style="font-size:12px;">{{result.total}}</strong></h6></td>
                         <td style="border:1px solid grey;text-align:center;"><h6><strong style="font-size:12px;">{{result.rank}}</strong></h6></td>

                        <td style="border:1px solid grey;text-align:center;">
                            {% if result.mark %}
                            {% if result.mark >= 16 and result.mark < 20 %}
                            <strong style="color:green;font-size:12px;">Très Bien</strong>
                                {% endif %}
                            {% if result.mark == 20 %}
                            <strong style="color:green;font-size:12px;">Excellent</strong>
                                {% endif %}
                                {% if result.mark >= 13 and result.mark < 16 %}
                            <strong class="text-success" style="font-size:12px;">Bien</strong>
                                {% endif %}
                                {% if result.mark >= 9 and result.mark <= 12 %}
                            <strong class="text-warning" style="font-size:12px;">Moyen</strong>
                                {% endif %}
                                {% if result.mark >= 6 and result.mark <= 8 %}
                            <strong class="text-danger" style="font-size:12px;">Insuffisant</strong>
                                {% endif %}
                                {% if result.mark >= 0 and result.mark <= 5 %}
                            <strong style="color:red;font-size:12px;">Très Insuffisant</strong>
                                {% endif %}
                            {% else %}
                            <strong style="text-align:center;font-size:12px;">NULL</strong>
                            {% endif %}
                        </td>
                        <td style="border:1px solid grey;text-align:center;"><h6><strong style="font-size:12px;">{{result.min}}</strong></h6></td>
                        <td style="border:1px solid grey;text-align:center;"><h6><strong style="font-size:12px;">{{result.avg}}</strong></h6></td>
                        <td style="border:1px solid grey;text-align:center;"><h6><strong style="font-size:12px;">{{result.max}}</strong></h6></td>
                        <td style="border:1px solid grey;text-align:center;font-size:12px;">
                            {% if result.course.teacher.gender == 'masculin' %}
                            <i>Mr. {{result.course.teacher.first_name}}</i>
                        {% else %}
                            <i>Mme. {{result.course.teacher.first_name}}</i>
                            {% endif %}</td>
                    </tr>
                    {% endfor %}
                    </tbody>
                  </table>
<hr class="line">
                    <table class="table table-bordered" id="new_table">
                        <thead>
                        <tr style="border:1px solid grey" >
                            {% if report_card.average >= reussite.average %}
                              <th colspan="7" style="background-color:#1bcfb4;text-align:center;border:1px solid grey;padding:15px;line-height:16%"><strong>STATUS : REUSSIE</strong></th>
                            <th style="text-align:center;line-height:16%;padding:5px;"><img src="{% static 'Mainapp/images/check.png' %}" style="width:25px;height:25px;"></th>
                            {% else %}
                            <th colspan="7" style="background-color:#fe7096;text-align:center;border:1px solid grey;padding:15px;line-height:16%"><strong>STATUS : ECHEC</strong> </th>
                            <th style="text-align:center;border:1px solid grey;line-height:16%;padding:5px;"><img src="{% static 'Mainapp/images/rejected.png' %}" style="width:25px;height:25px;"></th>
                            {% endif %}
                        </tr>
                        <tr>
                         <th style="border:1px solid grey;text-align:center;padding:0px;background-color:#f2f2f2" colspan="2">
                              <ul class="display-none">
                              <strong><li>RAPPEL EVALUATIONS</li></strong>
                              <li><i>Remind evaluations</i></li>
                          </ul></th>
                             <th style="border:1px solid grey;text-align:center;padding:0px;background-color:#f2f2f2" colspan="2">
                              <ul class="display-none" style="padding:0px;">
                              {% if report_card.sequence == '1 ere Sequence' %}
                                  <strong><li style="padding:0px;">TRAVAIL DE LA {{report_card.sequence}}</li></strong>
                                  <li style="padding:0px;"><i>Work Sequence 1</i></li>
                                  {% endif %}
                                  {% if report_card.sequence == '3 eme Sequence' %}
                                  <strong><li style="padding:0px;">TRAVAIL DE LA {{report_card.sequence}}</li></strong>
                                  <li style="padding:0px;"><i>Work Sequence 3</i></li>
                                  {% endif %}
                                  {% if report_card.sequence == '4 eme Sequence' %}
                                  <strong><li style="padding:0px;">TRAVAIL DE LA {{report_card.sequence}}</li></strong>
                                  <li style="padding:0px;"><i>Work Sequence 5</i></li>
                                  {% endif %}

                          </ul></th>
                       <th style="border:1px solid grey;text-align:center;padding:0px;background-color:#f2f2f2" colspan="2">
                              <ul class="display-none">
                              <strong><li>CONDUITE</li></strong>
                              <li><i>Discipline term 1</i></li>
                          </ul></th>
                            <th style="border:1px solid grey;text-align:center;padding:0px;background-color:#f2f2f2;" colspan="2">
                              <ul class="display-none">
                              <strong><li>CONSEIL DE CLASSE</li></strong>
                              <li><i>Class Council</i></li>
                          </ul></th>
                        </tr>

                        </thead>
                        <tbody>
                        <tr>
                            <td style="border:1px solid grey;">
                                MOYENNE SEQ 1
                            </td>
                            <td style="border:1px solid grey;">
                                {% if report_card.sequence == '1 ere Sequence' %}
                                <strong style="font-size:17px;">{{report_card.average}}</strong>
                                {% endif %}
                            </td>
                            <td style="border:1px solid grey;">
                                 TOTAL POINTS
                            </td>
                            <td style="border:1px solid grey;">
                                <strong style="font-size:17px;">{{greate_total}}</strong>
                            </td>
                            <td style="border:1px solid grey;">
                                  ABSENCES TOTALES (Heures)
                            </td>
                            <td style="border:1px solid grey;">
                                 <strong style="font-size:17px;">{{remark.hours_no}}</strong>
                            </td>
                            <td style="border:1px solid grey;">
                                AVERT. CONDUITE :
                            </td>
                            <td style="border:1px solid grey;text-align:center;">
                            {% if remark.hours_no >= avert_conduite.hours and remark.hours_no <= avert_conduite.hours2 %}
                                    <img src="{% static 'Mainapp/images/check.png' %}" style="width:20px;height:20px;">
                            {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <td style="border:1px solid grey;">
                                MOYENNE SEQ 2
                            </td>
                            <td style="border:1px solid grey;">

                            </td>
                            <td style="border:1px solid grey;">
                                 TOTAL COEFS
                            </td>
                            <td style="border:1px solid grey;">
                                <strong style="font-size:17px;">{{coeff_total}}</strong>
                            </td>
                            <td style="border:1px solid grey;">
                                  ABSENCES NON JUST. (Heures)
                            </td>
                            <td style="border:1px solid grey;">
                                <strong style="font-size:17px;">{{remark.hours_no}}</strong>
                            </td>
                            <td style="border:1px solid grey;">
                                BLAME CONDUITE :
                            </td>
                            <td style="border:1px solid grey;text-align:center;">
                               {% if remark.hours_no >= blame_conduite.hours %}
                                      <img src="{% static 'Mainapp/images/check.png' %}" style="width:20px;height:20px;">
                            {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <td style="border:1px solid grey;">
                                MOYENNE SEQ 3
                            </td>
                            <td style="border:1px solid grey;">
                            {% if report_card.sequence == '3 eme Sequence' %}
                                <strong style="font-size:17px;">{{report_card.average}}</strong>
                                {% endif %}
                            </td>
                            <td style="border:1px solid grey;">
                                 MOYENNE {{report_card.sequence}}
                            </td>
                            <td style="border:1px solid grey;">
                                <strong style="font-size:17px;">{{report_card.average}}</strong>
                            </td>
                            <td style="border:1px solid grey;">
                                  CONSIGNES (Jours)
                            </td>
                            <td style="border:1px solid grey;">

                            </td>
                            <td style="border:1px solid grey;">
                                TABLEAU D'HONNEUR :
                            </td>
                            <td style="border:1px solid grey;text-align:center;">
                                {% if report_card.average >= table.average and remark.hours_no <= table.hours %}
                                      <img src="{% static 'Mainapp/images/check.png' %}" style="width:20px;height:20px;">
                            {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <td style="border:1px solid grey;">
                                MOYENNE SEQ 4
                            </td>
                            <td style="border:1px solid grey;">

                            </td>
                            <td style="border:1px solid grey;">
                                 RANK {{report_card.sequence}}
                            </td>
                            <td style="border:1px solid grey;">
                                <strong style="font-size:17px;">{{report_card.rank}}</strong></td>
                            <td style="border:1px solid grey;">
                                  CONSIGNES (Heures)
                            </td>
                            <td style="border:1px solid grey;">

                            </td>
                            <td style="border:1px solid grey;">
                                ENCOURAGEMENTS :
                            </td>
                            <td style="border:1px solid grey;text-align:center;">
                            {% if report_card.average >= encouragement.average  and remark.hours_no <= encouragement.hours %}
                                 <img src="{% static 'Mainapp/images/check.png' %}" style="width:20px;height:20px;">
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <td style="border:1px solid grey;">
                                MOYENNE SEQ 5
                            </td>
                            <td style="border:1px solid grey;">
                             {% if report_card.sequence == '5 eme Sequence' %}
                                <strong style="font-size:17px;">{{report_card.average}}</strong>
                                {% endif %}
                            </td>
                            <td style="border:1px solid grey;">
                                 NBRE DE MATIERES
                            </td>
                            <td style="border:1px solid grey;">
                                <strong style="font-size:17px;">{{student.course.all.count}}/{{courses.all.count}}</strong>
                            </td>
                            <td style="border:1px solid grey;">
                                  EXCLUSIONS (Jours)
                            </td>
                            <td style="border:1px solid grey;">
                                <strong style="font-size:17px;">{{remark.jr_exclusions}}</strong></td>
                            <td style="border:1px solid grey;">
                                FELICITATIONS
                            </td>
                            <td style="border:1px solid grey;text-align:center;">
                           {% if report_card.average >= felicitations.average and remark.hours_no <= felicitations.hours %}
                                     <img src="{% static 'Mainapp/images/check.png' %}" style="width:20px;height:20px;">
                            {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <td style="border:1px solid grey;">MOYENNE SEQ 6</td>
                            <td style="border:1px solid grey;"></td>
                            <td style="border:1px solid grey;">MOYENNE CLASSE</td>
                            <td style="border:1px solid grey;text-align:center;"><strong style="font-size:17px;">{{report_card.class_average}}</strong></td>
                            <td style="border:1px solid grey;">EXCLUSIONS (heures)</td>
                            <td style="border:1px solid grey;">
                                <strong style="font-size:17px;">{{remark.hr_exclusions}}</strong>
                            </td>
                            <td style="border:1px solid grey;">AVERT. TRAVAIL :</td>
                            <td style="border:1px solid grey;text-align:center;">
                                {% if report_card.average >= avert_travail.average and report_card.average <= avert_travail.average2 %}
                                      <img src="{% static 'Mainapp/images/check.png' %}" style="width:20px;height:20px;">
                            {% endif %}
                            </td>
                        </tr>
                        <thead>
                        <tr>
                             <th style="border:1px solid grey;text-align:center;padding:0px;background-color:#f2f2f2" colspan="2">
                              <ul class="display-none" style="padding:0px;">
                                  <strong><li style="padding:0px;">MOYENNE DU PREMIER</li></strong>
                                  <li style="padding:0px;"><i>AVERAGE OF THE FIRST</i></li>
                          </ul></th>
                            <th style="border:1px solid grey;text-align:center;" colspan="1">
                              <strong><span style="font-size:17px;">{{report_card.first_average}}</span></strong>
                          </th>
                       <th style="border:1px solid grey;text-align:center;padding:0px;background-color:#f2f2f2" colspan="2">
                              <ul class="display-none">
                              <strong><li>MOYENNE DE DERNIER </li></strong>
                              <li><i>AVERAGE OF THE LAST</i></li>
                          </ul></th>
                            <th style="border:1px solid grey;text-align:center;" colspan="1">
                              <strong><span style="font-size:17px;">{{report_card.last_average}}</span></strong>
                          </th>
                            <td style="border:1px solid grey;">BLAME. TRAVAIL :</td>
                            <td style="border:1px solid grey;text-align:center;">
                                {% if report_card.average < blame_travail.average %}
                                      <img src="{% static 'Mainapp/images/check.png' %}" style="width:20px;height:20px;">
                            {% endif %}
                            </td>
                        </tr>
                   </thead>
                       <tbody>
                           <tr>
                               <td style="border:1px solid grey;text-align:center;padding:4px;background-color:#f2f2f2" colspan="3"><strong>VISA DU PARENT</strong></td>
                               <td style="border:1px solid grey;text-align:center;padding:0px;background-color:#f2f2f2" colspan="2"><strong>DECISION DU CONSEIL DE CLASSE</strong></td>
                               <td style="border:1px solid grey;text-align:center;padding:0px;background-color:#f2f2f2" colspan="3"><strong>VISA DU CHEF D'ETABLISSEMENT</strong></td>
                        </tr>
                       <tr style="height:50px;">
                           <td style="border:1px solid grey;" colspan="3"></td>

                            {% if report_card.average <= travail_null.average %}
                           <td style="border:1px solid grey;text-align:center;background-color:#fe7096;" colspan="2">
                                TRAVAIL NULL
                               </td>
                                {% endif %}
                                {% if report_card.average >= travail_mauvais.average and report_card.average <= travail_mauvais.average2 %}
                                 <td style="border:1px solid grey;text-align:center;background-color:#fe7096;" colspan="2">
                           TRAVAIL MAUVAIS
                       </td>
                                {% endif %}

                                {% if report_card.average >= travail_passable.average and report_card.average <= travail_passable.average2 %}
                                 <td style="border:1px solid grey;text-align:center;background-color:#1bcfb4;" colspan="2">
                           TRAVAIL PASSABLE
                                 </td>
                                {% endif %}

                           {% if report_card.average >= travail_assez_bien.average and report_card.average <= travail_assez_bien.average2 %}
                           <td style="border:1px solid grey;text-align:center;background-color:#1bcfb4;" colspan="2">TRAVAIL ASSEZ BIEN</td>
                                {% endif %}

                                {% if report_card.average >= travail_bien.average and report_card.average <= travail_bien.average2 %}
                            <td style="border:1px solid grey;text-align:center;background-color:#1bcfb4;" colspan="2">
                                TRAVAIL BIEN
                            </td>
                                {% endif %}

                                {% if report_card.average >= travail_tres_bien.average and report_card.average <= travail_tres_bien.average2 %}
                            <td style="border:1px solid grey;text-align:center;background-color:#1bcfb4;" colspan="2">
                                TRAVAIL TRES BIEN
                            </td>
                                {% endif %}
                                {% if report_card.average >= travail_excellent.average and report_card.average <= travail_excellent.average2 %}
                            <td style="border:1px solid grey;text-align:center;background-color:#1bcfb4;" colspan="2">
                                TRAVAIL EXCELLENT
                            </td>
                                {% endif %}

                            <td style="border:1px solid grey;" colspan="3"></td>
                        </tr>
                       <tr>

                        </tr>
                       <tr>
                            <td style="border:1px solid grey;text-align:center;padding:5px;" colspan="8">Les requetes sont recevables une (01) semaine au plus tard apres la remise des bulletins</td>
                        </tr>
                           <tr>
                            <td style="border:1px solid grey;text-align:center;padding:5px;" colspan="8"><i>Complains are admissible one (01) week latest after report card delivery</i></td>
                        </tr>
                       </tbody>
                        </tbody>
                    </table>
                </div>
{% else %}

                    <!-- term report card -->
<table class="table table-striped" id="new_table2">
                    <thead style="border:1px solid grey;">
                      <tr>
                          <th style="border:1px solid grey;text-align:center;padding:0px;background-color:#f2f2f2" colspan="1">
                              <strong>MATIERES</strong>
                              </th>
                          <th style="padding:0px;border:1px solid grey;text-align:center;background-color:#f2f2f2" colspan="1">
                              <strong>EVAL 1</strong>
                          </th>
                          <th style="padding:0px;border:1px solid grey;text-align:center;background-color:#f2f2f2" colspan="1">
                              <strong>EVAL 2</strong>
                           </th>
                          <th style="padding:0px;border:1px solid grey;text-align:center;background-color:#f2f2f2" colspan="1">
                              <strong>NOTE <span class="text-danger">/</span> 20</strong>
                          </th>
                         <th style="padding:0px;border:1px solid grey;text-align:center;background-color:#f2f2f2" colspan="1">
                              <strong>COEF.</strong>
                          </th>
                          <th style="padding:0px;border:1px solid grey;text-align:center;background-color:#f2f2f2" colspan="1">
                              <strong>N x C</strong>
                          </th>
                          <th style="padding:0px;border:1px solid grey;text-align:center;background-color:#f2f2f2" colspan="1">
                              RANG
                          </th>
                          <th style="padding:0px;border:1px solid grey;text-align:center;background-color:#f2f2f2" colspan="1">
                              <strong>MENTION</strong>
                          </th>

                          <th style="padding:0px;border:1px solid grey;text-align:center;background-color:#f2f2f2" colspan="3">
                              <strong>CLASSE</strong>
                          </th>
                          <th style="padding:0px;border:1px solid grey;text-align:center;background-color:#f2f2f2" colspan="1">
                              <strong>VISA</strong>
                          </th>
                      </tr>
                    <tr>
                        <th style="border:1px solid grey;text-align:center;"><i>Subjects</i></th>
                         <th style="border:1px solid grey;text-align:center;"><i>50%</i></th>
                         <th style="border:1px solid grey;text-align:center;"><i>50%</i></th>
                         <th style="border:1px solid grey;text-align:center;"><i>Mark</i></th>
                         <th style="border:1px solid grey;text-align:center;"><i>Coef.</i></th>
                         <th style="border:1px solid grey;text-align:center;"><i>MxC</i></th>
                         <th style="border:1px solid grey;text-align:center;"><i>Rank</i></th>
                        <th style="border:1px solid grey;text-align:center;"><i>Remark</i></th>
                         <th style="border:1px solid grey;text-align:center;">MIN</th>
                         <th style="border:1px solid grey;text-align:center;">MOY</th>
                         <th style="border:1px solid grey;text-align:center;">MAX</th>
                         <th style="border:1px solid grey;text-align:center;"><i>Signature</i></th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for result in report_card.results.all %}
                    <tr style="border:1px solid grey;text-align:center;">
                        {% for depart in result.course.department.all %}
                        <td style="border:1px solid grey;text-align:center;padding:0px;line-height:15%">
                        <ul class="display-none">
                            <li><h6><strong style="font-size:12px;">{{result.course.name}} - <div class="text-primary">{{depart.group_type}}</div> </strong></h6></li>
                        </td>
                        {% endfor %}

                        {% if result.mark < 10 %}
                         <td style="border:1px solid grey;text-align:center;"><h6 style="color:red;"><strong style="font-size:12px;">{{result.mark}}</strong></h6></td>
                        {% else %}
                        <td style="border:1px solid grey;text-align:center;"><h6 style="color:green;"><strong style="font-size:12px;">{{result.mark}}</strong></h6></td>
                        {% endif %}

                        {% if result.mark2 < 10 %}
                         <td style="border:1px solid grey;text-align:center;"><h6 style="color:red;"><strong style="font-size:12px;">{{result.mark2}}</strong></h6></td>
                        {% else %}
                        <td style="border:1px solid grey;text-align:center;"><h6 style="color:green;"><strong style="font-size:12px;">{{result.mark2}}</strong></h6></td>
                        {% endif %}

                        {% if result.average_mark < 10 %}
                        <td style="border:1px solid grey;text-align:center;"><h6 style="color:red;"><strong style="font-size:12px;">{{result.average_mark}}</strong></h6></td>
                        {% else %}
                        <td style="border:1px solid grey;text-align:center;"><h6 style="color:green;"><strong style="font-size:12px;">{{result.average_mark}}</strong></h6></td>
                        {% endif %}
                    <td style="border:1px solid grey;text-align:center;"><h6><strong style="font-size:12px;">{{result.course.coeff}}</strong></h6></td>

                        <td style="border:1px solid grey;text-align:center;"><h6><strong style="font-size:12px;">{{result.total2}}</strong></h6></td>
                        <td style="border:1px solid grey;text-align:center;"><h6><strong style="font-size:12px;">{{result.rank2}}</strong></h6></td>
                        <td style="border:1px solid grey;text-align:center;">
                            {% if result.average_mark %}
                            {% if result.average_mark >= 16 and result.mark <= 20 %}
                            <strong style="color:green;font-size:12px;">Très Bien</strong>
                                {% endif %}
                                {% if result.average_mark >= 12 and result.average_mark < 16 %}
                            <strong class="text-success" style="font-size:12px;">Bien</strong>
                                {% endif %}
                                {% if result.average_mark >= 9 and result.average_mark <= 12 %}
                            <strong class="text-warning" style="font-size:12px;">Moyen</strong>
                                {% endif %}
                                {% if result.average_mark >= 6 and result.average_mark <= 8 %}
                            <strong class="text-danger" style="font-size:12px;">Insuffisant</strong>
                                {% endif %}
                                {% if result.average_mark >= 0 and result.average_mark <= 5 %}
                            <strong style="color:red;font-size:12px;">Très Insuffisant</strong>
                                {% endif %}
                            {% else %}
                            <strong style="text-align:center;font-size:12px;">NULL</strong>
                            {% endif %}
                        </td>
                        <td style="border:1px solid grey;text-align:center;"><strong style="font-size:12px;"></strong>{{result.min2}}</td>
                        <td style="border:1px solid grey;text-align:center;"><strong style="font-size:12px;"></strong>{{result.avg2}}</td>
                        <td style="border:1px solid grey;text-align:center;"><strong style="font-size:12px;"></strong>{{result.max2}}</td>
                        <td style="border:1px solid grey;text-align:center;"><strong style="font-size:12px;">
                              {% if result.course.teacher.gender == 'masculin' %}
                            <i>Mr. {{result.course.teacher.first_name}}</i>
                        {% else %}
                            <i>Mme. {{result.course.teacher.first_name}}</i>
                            {% endif %}
                        </strong></td>
                    </tr>
                    {% endfor %}
                    </tbody>
                  </table>
<hr class="line">
                   <table class="table table-bordered" id="new_table">
                        <thead>
                        <tr>
                            {% if report_card.sem_average >= reussite.average %}
                            <th colspan="7" style="background-color:#1bcfb4;text-align:center;border:1px solid grey;padding:15px;line-height:16%"><strong>STATUS : REUSSIE</strong></th>
                            <th style="text-align:center;line-height:16%;padding:5px;"><img src="{% static 'Mainapp/images/check.png' %}" style="width:25px;height:25px;"></th>
                            {% else %}
                            <th colspan="7" style="background-color:#fe7096;text-align:center;border:1px solid grey;padding:15px;line-height:16%"><strong>STATUS : ECHEC</strong> </th>
                            <th style="text-align:center;border:1px solid grey;line-height:16%;padding:5px;"><img src="{% static 'Mainapp/images/rejected.png' %}" style="width:25px;height:25px;"></th>
                            {% endif %}
                        </tr>
                        <tr>
                         <th style="border:1px solid grey;text-align:center;padding:0px;background-color:#f2f2f2" colspan="2">
                              <ul class="display-none">
                              <strong><li>RAPPEL EVALUATIONS</li></strong>
                              <li><i>Remind evaluations</i></li>
                          </ul></th>
                             <th style="border:1px solid grey;text-align:center;padding:0px;background-color:#f2f2f2" colspan="2">
                              <ul class="display-none" style="padding:0px;">
                              {% if report_card.sequence == '2 eme Sequence' %}
                                  <strong><li style="padding:0px;">TRAVAIL TRIMESTRE 1</li></strong>
                                  <li style="padding:0px;"><i>Work Sequence 1</i></li>
                                  {% endif %}
                                  {% if report_card.sequence == '4 eme Sequence' %}
                                  <strong><li style="padding:0px;">TRAVAIL DU TRIMESTRE 2</li></strong>
                                  <li style="padding:0px;"><i>Work Sequence 3</i></li>
                                  {% endif %}
                                  {% if report_card.sequence == '6 eme Sequence' %}
                                  <strong><li style="padding:0px;">TRAVAIL DU TRIMESTRE 3</li></strong>
                                  <li style="padding:0px;"><i>Work Sequence 5</i></li>
                                  {% endif %}

                          </ul></th>
                       <th style="border:1px solid grey;text-align:center;padding:0px;background-color:#f2f2f2" colspan="2">
                              <ul class="display-none">
                              <strong><li>CONDUITE</li></strong>
                              <li><i>Discipline term 1</i></li>
                          </ul></th>
                            <th style="border:1px solid grey;text-align:center;padding:0px;background-color:#f2f2f2;" colspan="2">
                              <ul class="display-none">
                              <strong><li>CONSEIL DE CLASSE</li></strong>
                              <li><i>Class Council</i></li>
                          </ul></th>
                        </tr>

                        </thead>
                        <tbody>
                        <tr>
                            <td style="border:1px solid grey;">
                                MOYENNE SEQ 1
                            </td>
                            <td style="border:1px solid grey;">
                                {% if report_card.sequence == '2 eme Sequence' %}
                                <strong style="font-size:17px;">{{report_card.average}}</strong>
                                {% endif %}
                            </td>
                            <td style="border:1px solid grey;">
                                 TOTAL POINTS
                            </td>
                            <td style="border:1px solid grey;text-align:center;">
                                <strong style="font-size:17px;">{{greate_total2}}</strong>
                            </td>
                            <td style="border:1px solid grey;">
                                  ABSENCES TOTALES (Heures)
                            </td>
                            <td style="border:1px solid grey;text-align:center;">
                                 <strong style="font-size:17px;">{{remark.hours_no}}</strong>
                            </td>
                            <td style="border:1px solid grey;">
                                AVERT. CONDUITE :
                            </td>
                            <td style="border:1px solid grey;text-align:center;">
                            {% if remark.hours_no >= avert_conduite.hours and remark.hours_no <= avert_conduite.hours2 %}
                                    <img src="{% static 'Mainapp/images/check.png' %}" style="width:20px;height:20px;">
                            {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <td style="border:1px solid grey;">
                                MOYENNE SEQ 2
                            </td>
                            <td style="border:1px solid grey;">
                                {% if report_card.sequence == '2 eme Sequence' %}
                                <strong style="font-size:17px;">{{report_card.average2}}</strong>
                                {% endif %}
                            </td>
                            <td style="border:1px solid grey;">
                                 TOTAL COEFS
                            </td>
                            <td style="border:1px solid grey;text-align:center;">
                                <strong style="font-size:17px;">{{coeff_total2}}</strong>
                            </td>
                            <td style="border:1px solid grey;">
                                  ABSENCES NON JUST. (Heures)
                            </td>
                            <td style="border:1px solid grey;text-align:center;">
                                <strong style="font-size:17px;">{{remark.hours_no}}</strong>
                            </td>
                            <td style="border:1px solid grey;">
                                BLAME CONDUITE :
                            </td>
                            <td style="border:1px solid grey;text-align:center;">
                               {% if remark.hours_no >= blame_conduite.hours %}
                                    <img src="{% static 'Mainapp/images/check.png' %}" style="width:20px;height:20px;">
                            {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <td style="border:1px solid grey;">
                                MOYENNE SEQ 3
                            </td>
                            <td style="border:1px solid grey;">
                                {% if report_card.sequence == '4 eme Sequence' %}
                                <strong style="font-size:17px;">{{report_card.average}}</strong>
                                {% endif %}
                            </td>
                            {% if sequence == '2 eme Sequence' %}
                            <td style="border:1px solid grey;">
                                 MOYENNE TRIMESTRE 1
                            </td>
                            {% endif %}
                            {% if sequence == '4 eme Sequence' %}
                            <td style="border:1px solid grey;">
                                 MOYENNE TRIMESTRE 2
                            </td>
                            {% endif %}
                            {% if sequence == '6 eme Sequence' %}
                            <td style="border:1px solid grey;">
                                 MOYENNE TRIMESTRE 3
                            </td>
                            {% endif %}
                            <td style="border:1px solid grey;text-align:center;">
                                <strong style="font-size:17px;">{{report_card.sem_average}}</strong>
                            </td>
                            <td style="border:1px solid grey;">
                                  CONSIGNES (Jours)
                            </td>
                            <td style="border:1px solid grey;">

                            </td>
                            <td style="border:1px solid grey;">
                                TABLEAU D'HONNEUR :
                            </td>
                            <td style="border:1px solid grey;text-align:center;">
                                {% if report_card.sem_average >= table.average and remark.hours_no <= table.hours %}
                                     <img src="{% static 'Mainapp/images/check.png' %}" style="width:20px;height:20px;">
                            {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <td style="border:1px solid grey;">
                                MOYENNE SEQ 4
                            </td>
                            <td style="border:1px solid grey;">
                        {% if report_card.sequence == '4 eme Sequence' %}
                                <strong style="font-size:17px;">{{report_card.average2}}</strong>
                                {% endif %}
                            </td>
                            <td style="border:1px solid grey;text-align:center;">
                                 RANK {{report_card.sequence}}
                            </td>
                            <td style="border:1px solid grey;text-align:center;">
                                 <strong style="font-size:17px;">{{report_card.rank}}</strong>
                            </td>
                            <td style="border:1px solid grey;">
                                  CONSIGNES (Heures)
                            </td>
                            <td style="border:1px solid grey;">

                            </td>
                            <td style="border:1px solid grey;">
                                ENCOURAGEMENTS :
                            </td>
                            <td style="border:1px solid grey;text-align:center;">
                           {% if report_card.sem_average >= encouragement.average  and remark.hours_no <= encouragement.hours %}
                                 <img src="{% static 'Mainapp/images/check.png' %}" style="width:20px;height:20px;">
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <td style="border:1px solid grey;">
                                MOYENNE SEQ 5
                            </td>
                            <td style="border:1px solid grey;">
                            {% if report_card.sequence == '6 eme Sequence' %}
                                <strong style="font-size:17px;">{{report_card.average}}</strong>
                                {% endif %}
                            </td>
                            <td style="border:1px solid grey;">
                                 NBRE DE MATIERES
                            </td>
                            <td style="border:1px solid grey;text-align:center;">
                                <strong style="font-size:17px;">{{student.course.all.count}}/{{courses.all.count}}</strong>
                            </td>
                            <td style="border:1px solid grey;">
                                  EXCLUSIONS (Jours)
                            </td>
                            <td style="border:1px solid grey;text-align:center;">
                                <strong style="font-size:17px;">{{remark.jr_exclusions}}</strong></td>
                            <td style="border:1px solid grey;">
                                FELICITATIONS
                            </td>
                            <td style="border:1px solid grey;text-align:center;">
                           {% if report_card.sem_average >= felicitations.average and remark.hours_no <= felicitations.hours %}
                                      <img src="{% static 'Mainapp/images/check.png' %}" style="width:20px;height:20px;">
                            {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <td style="border:1px solid grey;">MOYENNE SEQ 6</td>
                            <td style="border:1px solid grey;text-align:center;">
                                {% if report_card.sequence == '6 eme Sequence' %}
                                <strong style="font-size:17px;">{{report_card.average2}}</strong>
                                {% endif %}</td>
                            <td style="border:1px solid grey;">MOYENNE CLASSE</td>
                            <td style="border:1px solid grey;text-align:center;"><strong style="font-size:17px;">{{report_card.class_average}}</strong></td>
                            <td style="border:1px solid grey;">EXCLUSIONS (heures)</td>
                            <td style="border:1px solid grey;text-align:center;">
                                <strong style="font-size:17px;">{{remark.hr_exclusions}}</strong>
                            </td>
                            <td style="border:1px solid grey;">AVERT. TRAVAIL :</td>
                            <td style="border:1px solid grey;text-align:center;">
                                {% if report_card.sem_average >= avert_travail.average and report_card.sem_average <= avert_travail.average2 %}
                                      <img src="{% static 'Mainapp/images/check.png' %}" style="width:20px;height:20px;">
                            {% endif %}
                            </td>
                        </tr>
                        <thead>
                        <tr>
                         <th style="border:1px solid grey;text-align:center;padding:0px;background-color:#f2f2f2" colspan="2">
                              <ul class="display-none">
                              <strong><li>RAPPEL TRIMESTRES</li></strong>
                              <li><i>Terminal Summaries</i></li>
                          </ul></th>
                             <th style="border:1px solid grey;text-align:center;padding:0px;background-color:#f2f2f2" colspan="1">
                              <ul class="display-none" style="padding:0px;">
                                  <strong><li style="padding:0px;">MOYENNE DU PREMIER</li></strong>
                                  <li style="padding:0px;"><i>AVERAGE OF THE FIRST</i></li>
                          </ul></th>
                            <th style="border:1px solid grey;text-align:center;" colspan="1">
                              <strong><span style="font-size:17px;">{{report_card.first_average}}</span></strong>
                          </th>
                       <th style="border:1px solid grey;text-align:center;padding:0px;background-color:#f2f2f2" colspan="1">
                              <ul class="display-none">
                              <strong><li>MOYENNE DE DERNIER </li></strong>
                              <li><i>AVERAGE OF THE LAST</i></li>
                          </ul></th>
                            <th style="border:1px solid grey;text-align:center;" colspan="1">
                              <strong><span style="font-size:17px;">{{report_card.last_average}}</span></strong>
                          </th>
                            <td style="border:1px solid grey;">BLAME. TRAVAIL :</td>
                            <td style="border:1px solid grey;text-align:center;">
                                {% if report_card.sem_average <= blame_travail.average %}
                                      <img src="{% static 'Mainapp/images/check.png' %}" style="width:20px;height:20px;">
                            {% endif %}
                            </td>
                        </tr>
                   </thead>
                       <tbody>
                           <tr>
                            <td style="border:1px solid grey;">MOYENNE TRIM 1</td>
                               {% if report_card.sequence == '2 eme Sequence' %}
                            <td style="border:1px solid grey;"><strong style="font-size:17px;">{{report_card.sem_average}}</strong> </td>
                               {% endif %}
                               <td style="border:1px solid grey;text-align:center;padding:0px;background-color:#f2f2f2" colspan="2"><strong>VISA DU PARENT</strong></td>
                               <td style="border:1px solid grey;text-align:center;padding:0px;background-color:#f2f2f2" colspan="2"><strong>DECISION DU CONSEIL DE CLASSE</strong></td>
                               <td style="border:1px solid grey;text-align:center;padding:0px;background-color:#f2f2f2" colspan="2"><strong>VISA DU CHEF D'ETABLISSEMENT</strong></td>
                        </tr>
                       <tr>

                            <td style="border:1px solid grey;">MOYENNE TRIM 2</td>

                            <td style="border:1px solid grey;">{% if report_card.sequence2 == '4 eme Sequence' %}{{report_card.sem_average2}}  {% endif %}</td>

                            <td style="border:1px solid grey;" colspan="2" rowspan="2"></td>


                            {% if report_card.average <= travail_null.average %}
                           <td style="border:1px solid grey;text-align:center;background-color:#fe7096;" colspan="2" rowspan="2">
                                TRAVAIL NULL
                               </td>
                                {% endif %}
                                {% if report_card.average2 >= travail_mauvais.average and report_card.average2 <= travail_mauvais.average2 %}
                                 <td style="border:1px solid grey;text-align:center;background-color:#fe7096;" colspan="2" rowspan="2">
                           TRAVAIL MAUVAIS
                       </td>
                                {% endif %}

                                {% if report_card.average2 >= travail_passable.average and report_card.average2 <= travail_passable.average2 %}
                                 <td style="border:1px solid grey;text-align:center;background-color:#1bcfb4;" colspan="2" rowspan="2">
                           TRAVAIL PASSABLE
                                 </td>
                                {% endif %}

                           {% if report_card.average2 >= travail_assez_bien.average and report_card.average2 <= travail_assez_bien.average2 %}
                           <td style="border:1px solid grey;text-align:center;background-color:#1bcfb4;" colspan="2" rowspan="2">TRAVAIL ASSEZ BIEN</td>
                                {% endif %}

                                {% if report_card.average2 >= travail_bien.average and report_card.average2 <= travail_bien.average2 %}
                            <td style="border:1px solid grey;text-align:center;background-color:#1bcfb4;" colspan="2" rowspan="2">
                                TRAVAIL BIEN
                            </td>
                                {% endif %}

                                {% if report_card.average2 >= travail_tres_bien.average and report_card.average2 <= travail_tres_bien.average2 %}
                            <td style="border:1px solid grey;text-align:center;background-color:#1bcfb4;" colspan="2" rowspan="2">
                                TRAVAIL TRES BIEN
                            </td>
                                {% endif %}
                                {% if report_card.average2 >= travail_excellent.average and report_card.average2 <= travail_excellent.average2 %}
                            <td style="border:1px solid grey;text-align:center;background-color:#1bcfb4;" colspan="2" rowspan="2">
                                TRAVAIL EXCELLENT
                            </td>
                                {% endif %}
                            </td>
                            <td style="border:1px solid grey;"  colspan="2" rowspan="2"></td>
                        </tr>
                       <tr>

                            <td style="border:1px solid grey;">MOYENNE TRIM 3</td>

                            <td style="border:1px solid grey;">{% if report_card.sequence == '6 eme Sequence' %}{{report_card.sem_average}}  {% endif %}</td>


                        </tr>
                       <tr>
                            <td style="border:1px solid grey;text-align:center;padding:5px;" colspan="8">Les requetes sont recevables une (01) semaine au plus tard apres la remise des bulletins</td>
                        </tr>
                           <tr>
                            <td style="border:1px solid grey;text-align:center;padding:5px;" colspan="8"><i>Complains are admissible one (01) week latest after report card delivery</i></td>
                        </tr>
                       </tbody>
                        </tbody>
                    </table>


                    {% endif %}

                    <hr class="line">
                    </div>
              </div>
            </div>
    </div>
</form>
{% endblock %}


